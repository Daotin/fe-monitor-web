import{d as v,c as T,u as j,a as y,b as p,n as P,e as d,f as r,r as A,w as I,o as a,F as Z,g as G,h as _,i as f,j as B,k as R,t as b,l as S,m as M,p as N,T as L,K as k}from"./vue-vendor-DZbjFZat.js";import{E as x,e as H,f as W}from"./element-plus-CvvDIR_L.js";import{d as z}from"./store-vendor-BzeCd7_m.js";const Q="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjAwcHgiIGhlaWdodD0iNjBweCIgdmlld0JveD0iMCAwIDIwMCA2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDx0aXRsZT7liY3nq6/nm5Hmjqc8L3RpdGxlPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9ImxvZ28iPgogICAgICAgICAgICA8cmVjdCBpZD0iYmciIGZpbGw9IiMzMDQxNTYiIHg9IjAiIHk9IjAiIHdpZHRoPSIyMDAiIGhlaWdodD0iNjAiIHJ4PSI0Ij48L3JlY3Q+CiAgICAgICAgICAgIDx0ZXh0IGlkPSLliY3nq6/nm5HmjqciIGZvbnQtZmFtaWx5PSJQaW5nRmFuZ1NDLVNlbWlib2xkLCBQaW5nRmFuZyBTQyIgZm9udC1zaXplPSIyNCIgZm9udC13ZWlnaHQ9IjYwMCIgZmlsbD0iI0ZGRkZGRiI+CiAgICAgICAgICAgICAgICA8dHNwYW4geD0iNDAiIHk9IjM4Ij7liY3nq6/nm5Hmjqc8L3RzcGFuPgogICAgICAgICAgICA8L3RleHQ+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMCwyMCBMMzAsMjAgTDMwLDQwIEwyMCw0MCBMMjAsMjAgWiIgaWQ9ImJhcjEiIGZpbGw9IiM0MDlFRkYiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTM1LDI1IEw0NSwyNSBMNDUsNDAgTDM1LDQwIEwzNSwyNSBaIiBpZD0iYmFyMiIgZmlsbD0iIzY3QzIzQSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNNTAsMTUgTDYwLDE1IEw2MCw0MCBMNTAsNDAgTDUwLDE1IFoiIGlkPSJiYXIzIiBmaWxsPSIjRTZBMjNDIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4K",V="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNjBweCIgaGVpZ2h0PSI2MHB4IiB2aWV3Qm94PSIwIDAgNjAgNjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+5YmN56uv55uR5o6nPC90aXRsZT4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvLW1pbmkiPgogICAgICAgICAgICA8cmVjdCBpZD0iYmciIGZpbGw9IiMzMDQxNTYiIHg9IjAiIHk9IjAiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcng9IjQiPjwvcmVjdD4KICAgICAgICAgICAgPHRleHQgaWQ9IuebkSIgZm9udC1mYW1pbHk9IlBpbmdGYW5nU0MtU2VtaWJvbGQsIFBpbmdGYW5nIFNDIiBmb250LXNpemU9IjI0IiBmb250LXdlaWdodD0iNjAwIiBmaWxsPSIjRkZGRkZGIj4KICAgICAgICAgICAgICAgIDx0c3BhbiB4PSIxOCIgeT0iMzgiPuebkTwvdHNwYW4+CiAgICAgICAgICAgIDwvdGV4dD4KICAgICAgICAgICAgPHBhdGggZD0iTTEwLDIwIEwxNSwyMCBMMTUsNDAgTDEwLDQwIEwxMCwyMCBaIiBpZD0iYmFyMSIgZmlsbD0iIzQwOUVGRiI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNNDUsMjAgTDUwLDIwIEw1MCw0MCBMNDUsNDAgTDQ1LDIwIFoiIGlkPSJiYXIzIiBmaWxsPSIjRTZBMjNDIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4K",Y={class:"logo-container"},E={key:0,src:Q,alt:"Logo",class:"logo"},F={key:1,src:V,alt:"Logo",class:"logo-mini"},J=v({__name:"Sidebar",props:{isCollapse:{type:Boolean,default:!1}},setup(t){const s=y(),e=j(),c=T(()=>{var u;const o=e.options.routes.find(C=>C.name==="Layout");return((u=o==null?void 0:o.children)==null?void 0:u.filter(C=>{var g;return!((g=C.meta)!=null&&g.hidden)}))||[]}),m=T(()=>{const{path:i}=s;return i.startsWith("/error/")?"/error":i}),l=i=>x[i];return(i,o)=>{const u=A("el-icon"),C=A("el-menu-item"),g=A("el-menu");return a(),p("div",{class:P(["sidebar-container",{"is-collapsed":t.isCollapse}])},[d("div",Y,[t.isCollapse?(a(),p("img",F)):(a(),p("img",E))]),r(g,{"default-active":m.value,class:"sidebar-menu",collapse:t.isCollapse,"collapse-transition":!1,router:"","background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409EFF"},{default:I(()=>[(a(!0),p(Z,null,G(c.value,n=>(a(),_(C,{key:n.path,index:n.path},{title:I(()=>{var D;return[R(b((D=n.meta)==null?void 0:D.title),1)]}),default:I(()=>{var D;return[(D=n.meta)!=null&&D.icon?(a(),_(u,{key:0},{default:I(()=>[(a(),_(B(l(n.meta.icon))))]),_:2},1024)):f("",!0)]}),_:2},1032,["index"]))),128))]),_:1},8,["default-active","collapse"])],2)}}}),w=(t,s)=>{const e=t.__vccOpts||t;for(const[c,m]of s)e[c]=m;return e},U=w(J,[["__scopeId","data-v-4af40a90"]]),h=z("app",{state:()=>({appId:"default-app-id",timeRange:"7days",startTime:"",endTime:""}),getters:{getAppId:t=>t.appId,getTimeRange:t=>t.timeRange,getStartTime:t=>t.startTime,getEndTime:t=>t.endTime},actions:{setAppId(t){this.appId=t},setTimeRange(t){this.timeRange=t,this.updateTimeRange()},updateTimeRange(){const t=new Date,s=new Date(t);let e=new Date(t);switch(this.timeRange){case"today":e.setHours(0,0,0,0);break;case"yesterday":e.setDate(e.getDate()-1),e.setHours(0,0,0,0),s.setDate(s.getDate()-1),s.setHours(23,59,59,999);break;case"7days":e.setDate(e.getDate()-7);break;case"30days":e.setDate(e.getDate()-30);break;case"90days":e.setDate(e.getDate()-90);break;default:e.setDate(e.getDate()-7)}this.startTime=e.toISOString(),this.endTime=s.toISOString(),console.log("时间范围已更新:",{timeRange:this.timeRange,startTime:this.startTime,endTime:this.endTime})}}}),X={class:"header-container"},K={class:"header-left"},O={class:"page-title"},$={class:"header-right"},q={class:"app-id"},ee=v({__name:"Header",emits:["toggle-sidebar"],setup(t,{emit:s}){const e=s,c=y(),m=h(),l=S(!1),i=()=>{l.value=!l.value,e("toggle-sidebar")},o=T(()=>c.meta.title||"前端监控数据大屏");return(u,C)=>{const g=A("el-icon");return a(),p("div",X,[d("div",K,[d("div",{class:"fold-btn",onClick:i},[l.value?(a(),_(g,{key:0},{default:I(()=>[r(M(H))]),_:1})):(a(),_(g,{key:1},{default:I(()=>[r(M(W))]),_:1}))]),d("h2",O,b(o.value),1)]),d("div",$,[d("div",q,[d("span",null,"应用ID: "+b(M(m).appId),1)])])])}}}),te=w(ee,[["__scopeId","data-v-55d34ab8"]]),ae={class:"app-container"},se={class:"app-main"},oe=v({__name:"Layout",setup(t){y();const s=h(),e=S(!1),c=()=>{e.value=!e.value};return N(()=>{s.updateTimeRange(),console.log("Layout组件已挂载，初始化时间范围")}),(m,l)=>{const i=A("router-view");return a(),p("div",ae,[r(U,{"is-collapse":e.value},null,8,["is-collapse"]),d("div",{class:P(["main-container",{"is-collapsed":e.value}])},[r(te,{onToggleSidebar:c}),d("div",se,[r(i,null,{default:I(({Component:o})=>[r(L,{name:"fade",mode:"out-in"},{default:I(()=>[(a(),_(k,null,[(a(),_(B(o)))],1024))]),_:2},1024)]),_:1})])],2)])}}}),ie=w(oe,[["__scopeId","data-v-cccda8cc"]]),de=Object.freeze(Object.defineProperty({__proto__:null,default:ie},Symbol.toStringTag,{value:"Module"})),ne={class:"time-range-selector"},le=v({__name:"TimeRangeSelector",emits:["change"],setup(t,{emit:s}){const e=s,c=h(),m=[{label:"今日",value:"today"},{label:"昨日",value:"yesterday"},{label:"最近7天",value:"7days"},{label:"最近30天",value:"30days"},{label:"最近90天",value:"90days"}],l=S(c.timeRange),i=o=>{l.value=o,e("change",o),console.log("时间范围已变更:",o)};return(o,u)=>{const C=A("el-radio-button"),g=A("el-radio-group");return a(),p("div",ne,[r(g,{modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=n=>l.value=n),onChange:i},{default:I(()=>[(a(),p(Z,null,G(m,n=>r(C,{key:n.value,value:n.value},{default:I(()=>[R(b(n.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])])}}}),re=w(le,[["__scopeId","data-v-44c318da"]]);export{de as L,re as T,w as _,h as u};
