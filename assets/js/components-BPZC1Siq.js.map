{"version":3,"file":"components-BPZC1Siq.js","sources":["../../../src/assets/logo.svg","../../../src/assets/logo-mini.svg","../../../src/components/layout/Sidebar.vue","../../../src/store/app.ts","../../../src/components/layout/Header.vue","../../../src/components/layout/Layout.vue","../../../src/components/common/TimeRangeSelector.vue"],"sourcesContent":["export default \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjAwcHgiIGhlaWdodD0iNjBweCIgdmlld0JveD0iMCAwIDIwMCA2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDx0aXRsZT7liY3nq6/nm5Hmjqc8L3RpdGxlPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9ImxvZ28iPgogICAgICAgICAgICA8cmVjdCBpZD0iYmciIGZpbGw9IiMzMDQxNTYiIHg9IjAiIHk9IjAiIHdpZHRoPSIyMDAiIGhlaWdodD0iNjAiIHJ4PSI0Ij48L3JlY3Q+CiAgICAgICAgICAgIDx0ZXh0IGlkPSLliY3nq6/nm5HmjqciIGZvbnQtZmFtaWx5PSJQaW5nRmFuZ1NDLVNlbWlib2xkLCBQaW5nRmFuZyBTQyIgZm9udC1zaXplPSIyNCIgZm9udC13ZWlnaHQ9IjYwMCIgZmlsbD0iI0ZGRkZGRiI+CiAgICAgICAgICAgICAgICA8dHNwYW4geD0iNDAiIHk9IjM4Ij7liY3nq6/nm5Hmjqc8L3RzcGFuPgogICAgICAgICAgICA8L3RleHQ+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMCwyMCBMMzAsMjAgTDMwLDQwIEwyMCw0MCBMMjAsMjAgWiIgaWQ9ImJhcjEiIGZpbGw9IiM0MDlFRkYiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTM1LDI1IEw0NSwyNSBMNDUsNDAgTDM1LDQwIEwzNSwyNSBaIiBpZD0iYmFyMiIgZmlsbD0iIzY3QzIzQSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNNTAsMTUgTDYwLDE1IEw2MCw0MCBMNTAsNDAgTDUwLDE1IFoiIGlkPSJiYXIzIiBmaWxsPSIjRTZBMjNDIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4K\"","export default \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNjBweCIgaGVpZ2h0PSI2MHB4IiB2aWV3Qm94PSIwIDAgNjAgNjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+5YmN56uv55uR5o6nPC90aXRsZT4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvLW1pbmkiPgogICAgICAgICAgICA8cmVjdCBpZD0iYmciIGZpbGw9IiMzMDQxNTYiIHg9IjAiIHk9IjAiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcng9IjQiPjwvcmVjdD4KICAgICAgICAgICAgPHRleHQgaWQ9IuebkSIgZm9udC1mYW1pbHk9IlBpbmdGYW5nU0MtU2VtaWJvbGQsIFBpbmdGYW5nIFNDIiBmb250LXNpemU9IjI0IiBmb250LXdlaWdodD0iNjAwIiBmaWxsPSIjRkZGRkZGIj4KICAgICAgICAgICAgICAgIDx0c3BhbiB4PSIxOCIgeT0iMzgiPuebkTwvdHNwYW4+CiAgICAgICAgICAgIDwvdGV4dD4KICAgICAgICAgICAgPHBhdGggZD0iTTEwLDIwIEwxNSwyMCBMMTUsNDAgTDEwLDQwIEwxMCwyMCBaIiBpZD0iYmFyMSIgZmlsbD0iIzQwOUVGRiI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNNDUsMjAgTDUwLDIwIEw1MCw0MCBMNDUsNDAgTDQ1LDIwIFoiIGlkPSJiYXIzIiBmaWxsPSIjRTZBMjNDIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4K\"","<script setup lang=\"ts\">\nimport { computed } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport * as ElementPlusIconsVue from \"@element-plus/icons-vue\";\n\n// 接收父组件传递的折叠状态\ndefineProps({\n  isCollapse: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst route = useRoute();\nconst router = useRouter();\n\n// 获取路由配置中的菜单项\nconst menuItems = computed(() => {\n  const routes = router.options.routes;\n  // 找到主布局路由\n  const layoutRoute = routes.find((route) => route.name === \"Layout\");\n  // 返回布局路由的子路由作为菜单项\n  return layoutRoute?.children?.filter((item) => !item.meta?.hidden) || [];\n});\n\n// 获取当前激活的菜单项\nconst activeMenu = computed(() => {\n  const { path } = route;\n  // 如果是错误详情页，激活错误监控菜单\n  if (path.startsWith(\"/error/\")) {\n    return \"/error\";\n  }\n  return path;\n});\n\n// 动态获取图标组件\nconst getIcon = (iconName: string) => {\n  return ElementPlusIconsVue[iconName as keyof typeof ElementPlusIconsVue];\n};\n</script>\n\n<template>\n  <div class=\"sidebar-container\" :class=\"{ 'is-collapsed': isCollapse }\">\n    <!-- Logo -->\n    <div class=\"logo-container\">\n      <img\n        src=\"../../assets/logo.svg\"\n        alt=\"Logo\"\n        class=\"logo\"\n        v-if=\"!isCollapse\"\n      />\n      <img\n        src=\"../../assets/logo-mini.svg\"\n        alt=\"Logo\"\n        class=\"logo-mini\"\n        v-else\n      />\n    </div>\n\n    <!-- 菜单 -->\n    <el-menu\n      :default-active=\"activeMenu\"\n      class=\"sidebar-menu\"\n      :collapse=\"isCollapse\"\n      :collapse-transition=\"false\"\n      router\n      background-color=\"#304156\"\n      text-color=\"#bfcbd9\"\n      active-text-color=\"#409EFF\"\n    >\n      <el-menu-item\n        v-for=\"item in menuItems\"\n        :key=\"item.path\"\n        :index=\"item.path\"\n      >\n        <el-icon v-if=\"item.meta?.icon\">\n          <component :is=\"getIcon(item.meta.icon)\" />\n        </el-icon>\n        <template #title>{{ item.meta?.title }}</template>\n      </el-menu-item>\n    </el-menu>\n  </div>\n</template>\n\n<style scoped>\n.sidebar-container {\n  width: 220px;\n  height: 100%;\n  background-color: #304156;\n  transition: width 0.3s;\n  overflow: hidden;\n}\n\n.sidebar-container.is-collapsed {\n  width: 64px;\n}\n\n.logo-container {\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #263445;\n  padding: 10px;\n}\n\n.logo {\n  height: 40px;\n  max-width: 100%;\n}\n\n.logo-mini {\n  height: 30px;\n  max-width: 100%;\n}\n\n.sidebar-menu {\n  border-right: none;\n  height: calc(100% - 60px);\n}\n\n/* 覆盖Element Plus样式 */\n:deep(.el-menu-item) {\n  height: 50px;\n  line-height: 50px;\n}\n\n:deep(.el-menu-item.is-active) {\n  background-color: #263445 !important;\n}\n</style>\n","import { defineStore } from 'pinia';\n\n// 定义时间范围类型\nexport type TimeRange = 'today' | 'yesterday' | '7days' | '30days' | '90days';\n\n// 定义应用状态接口\ninterface AppState {\n  appId: string;\n  timeRange: TimeRange;\n  startTime: string;\n  endTime: string;\n}\n\n// 创建应用状态\nexport const useAppStore = defineStore('app', {\n  state: (): AppState => ({\n    appId: 'default-app-id', // 默认应用ID\n    timeRange: '7days', // 默认时间范围\n    startTime: '', // 开始时间，由timeRange计算得出\n    endTime: '' // 结束时间，默认为当前时间\n  }),\n  \n  getters: {\n    getAppId: (state) => state.appId,\n    getTimeRange: (state) => state.timeRange,\n    getStartTime: (state) => state.startTime,\n    getEndTime: (state) => state.endTime\n  },\n  \n  actions: {\n    // 设置应用ID\n    setAppId(appId: string) {\n      this.appId = appId;\n    },\n    \n    // 设置时间范围\n    setTimeRange(timeRange: TimeRange) {\n      this.timeRange = timeRange;\n      this.updateTimeRange();\n    },\n    \n    // 更新时间范围\n    updateTimeRange() {\n      const now = new Date();\n      const endTime = new Date(now);\n      let startTime = new Date(now);\n      \n      // 根据选择的时间范围计算开始时间\n      switch (this.timeRange) {\n        case 'today':\n          startTime.setHours(0, 0, 0, 0);\n          break;\n        case 'yesterday':\n          startTime.setDate(startTime.getDate() - 1);\n          startTime.setHours(0, 0, 0, 0);\n          endTime.setDate(endTime.getDate() - 1);\n          endTime.setHours(23, 59, 59, 999);\n          break;\n        case '7days':\n          startTime.setDate(startTime.getDate() - 7);\n          break;\n        case '30days':\n          startTime.setDate(startTime.getDate() - 30);\n          break;\n        case '90days':\n          startTime.setDate(startTime.getDate() - 90);\n          break;\n        default:\n          startTime.setDate(startTime.getDate() - 7);\n      }\n      \n      // 更新状态\n      this.startTime = startTime.toISOString();\n      this.endTime = endTime.toISOString();\n      \n      console.log('时间范围已更新:', {\n        timeRange: this.timeRange,\n        startTime: this.startTime,\n        endTime: this.endTime\n      });\n    }\n  }\n});\n","<script setup lang=\"ts\">\nimport { ref, computed } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { Fold, Expand } from '@element-plus/icons-vue'\nimport { useAppStore, TimeRange } from '../../store/app'\n\n// 定义事件\nconst emit = defineEmits(['toggle-sidebar'])\n\nconst route = useRoute()\nconst appStore = useAppStore()\n\n// 侧边栏折叠状态\nconst isCollapse = ref(false)\n\n// 切换侧边栏折叠状态\nconst toggleSidebar = () => {\n\tisCollapse.value = !isCollapse.value\n\temit('toggle-sidebar')\n}\n\n// 获取当前页面标题\nconst pageTitle = computed(() => {\n\treturn route.meta.title || '前端监控数据大屏'\n})\n</script>\n\n<template>\n\t<div class=\"header-container\">\n\t\t<!-- 左侧区域 -->\n\t\t<div class=\"header-left\">\n\t\t\t<!-- 折叠按钮 -->\n\t\t\t<div class=\"fold-btn\" @click=\"toggleSidebar\">\n\t\t\t\t<el-icon v-if=\"isCollapse\"><Expand /></el-icon>\n\t\t\t\t<el-icon v-else><Fold /></el-icon>\n\t\t\t</div>\n\n\t\t\t<!-- 页面标题 -->\n\t\t\t<h2 class=\"page-title\">{{ pageTitle }}</h2>\n\t\t</div>\n\n\t\t<!-- 右侧区域 -->\n\t\t<div class=\"header-right\">\n\t\t\t<!-- 应用ID显示 -->\n\t\t\t<div class=\"app-id\">\n\t\t\t\t<span>应用ID: {{ appStore.appId }}</span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<style scoped>\n.header-container {\n\theight: 60px;\n\tbackground-color: #fff;\n\tbox-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 0 20px;\n}\n\n.header-left {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.fold-btn {\n\tfont-size: 20px;\n\tcursor: pointer;\n\tmargin-right: 15px;\n\tcolor: #606266;\n}\n\n.page-title {\n\tmargin: 0;\n\tfont-size: 18px;\n\tfont-weight: 600;\n\tcolor: #303133;\n}\n\n.header-center {\n\tflex: 1;\n\tdisplay: flex;\n\tjustify-content: center;\n}\n\n.header-right {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.app-id {\n\tmargin-left: 15px;\n\tfont-size: 14px;\n\tcolor: #606266;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { ref, onMounted } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport Sidebar from \"./Sidebar.vue\";\nimport Header from \"./Header.vue\";\nimport { useAppStore } from \"../../store/app\";\n\nconst route = useRoute();\nconst appStore = useAppStore();\n\n// 侧边栏折叠状态\nconst isCollapse = ref(false);\n\n// 切换侧边栏折叠状态\nconst toggleSidebar = () => {\n  isCollapse.value = !isCollapse.value;\n};\n\nonMounted(() => {\n  // 初始化时间范围\n  appStore.updateTimeRange();\n  console.log(\"Layout组件已挂载，初始化时间范围\");\n});\n</script>\n\n<template>\n  <div class=\"app-container\">\n    <!-- 侧边栏 -->\n    <Sidebar :is-collapse=\"isCollapse\" />\n\n    <!-- 主内容区 -->\n    <div class=\"main-container\" :class=\"{ 'is-collapsed': isCollapse }\">\n      <!-- 顶部导航栏 -->\n      <Header @toggle-sidebar=\"toggleSidebar\" />\n\n      <!-- 内容区 -->\n      <div class=\"app-main\">\n        <router-view v-slot=\"{ Component }\">\n          <transition name=\"fade\" mode=\"out-in\">\n            <keep-alive>\n              <component :is=\"Component\" />\n            </keep-alive>\n          </transition>\n        </router-view>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.app-container {\n  display: flex;\n  width: 100%;\n  height: 100vh;\n  overflow: hidden;\n}\n\n.main-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  transition: margin-left 0.3s;\n  margin-left: 20px;\n  overflow: hidden;\n}\n\n.main-container.is-collapsed {\n  margin-left: 64px;\n}\n\n.app-main {\n  flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n  background-color: #f5f7fa;\n}\n\n/* 过渡动画 */\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { ref } from 'vue'\nimport { useAppStore, type TimeRange } from '../../store/app'\n\n// 定义事件\nconst emit = defineEmits(['change'])\n\nconst appStore = useAppStore()\n\n// 时间范围选项\nconst timeRangeOptions = [\n\t{ label: '今日', value: 'today' },\n\t{ label: '昨日', value: 'yesterday' },\n\t{ label: '最近7天', value: '7days' },\n\t{ label: '最近30天', value: '30days' },\n\t{ label: '最近90天', value: '90days' },\n]\n\n// 当前选中的时间范围\nconst selectedTimeRange = ref<TimeRange>(appStore.timeRange)\n\n// 处理时间范围变化\nconst handleTimeRangeChange = (value: TimeRange) => {\n\tselectedTimeRange.value = value\n\temit('change', value)\n\tconsole.log('时间范围已变更:', value)\n}\n</script>\n\n<template>\n\t<div class=\"time-range-selector\">\n\t\t<el-radio-group v-model=\"selectedTimeRange\" @change=\"handleTimeRangeChange\">\n\t\t\t<el-radio-button v-for=\"option in timeRangeOptions\" :key=\"option.value\" :value=\"option.value\">\n\t\t\t\t{{ option.label }}\n\t\t\t</el-radio-button>\n\t\t</el-radio-group>\n\t</div>\n</template>\n\n<style scoped>\n.time-range-selector {\n\tdisplay: flex;\n\talign-items: center;\n}\n</style>\n"],"names":["_imports_0","_imports_1","route","useRoute","router","useRouter","menuItems","computed","layoutRoute","_a","item","activeMenu","path","getIcon","iconName","ElementPlusIconsVue","useAppStore","defineStore","state","appId","timeRange","now","endTime","startTime","emit","__emit","appStore","isCollapse","ref","toggleSidebar","pageTitle","onMounted","timeRangeOptions","selectedTimeRange","handleTimeRangeChange","value"],"mappings":"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"}