import{a as i}from"./utils-vendor-t--hEgTQ.js";import{a as u}from"./element-plus-CUIuS-xu.js";const n=i.create({baseURL:"/api/v1",timeout:15e3});n.interceptors.request.use(e=>(console.log("发送请求:",e.url),e),e=>(console.error("请求错误:",e),Promise.reject(e)));n.interceptors.response.use(e=>{const r=e.data;return console.log("接收响应:",e.config.url,r),e.request.responseType==="blob"||e.request.responseType==="arraybuffer"?e:r},e=>{console.error("响应错误:",e);const{response:r}=e;if(r){const{status:t,data:a}=r;let s="未知错误";if(a&&a.message)s=a.message;else switch(t){case 400:s="请求错误";break;case 401:s="未授权，请重新登录";break;case 403:s="拒绝访问";break;case 404:s="请求地址出错";break;case 408:s="请求超时";break;case 500:s="服务器内部错误";break;case 501:s="服务未实现";break;case 502:s="网关错误";break;case 503:s="服务不可用";break;case 504:s="网关超时";break;default:s=`未知错误(${t})`}u.error(s)}else u.error("网络异常，请检查您的网络连接");return Promise.reject(e)});function o(e,r,t){return n.get(e,{params:r,...t})}function c(e,r,t){return n.post(e,r,t)}function l(e,r,t){return o("/stats/summarize",{appId:e,startTime:r,endTime:t})}function g(e,r,t,a="day"){return o("/stats/error-trend",{appId:e,startTime:r,endTime:t,interval:a})}function d(e,r,t,a=1,s=20,p="lastSeen_desc"){return o("/stats/errors",{appId:e,startTime:r,endTime:t,page:a,limit:s,sortBy:p})}function b(e){return o(`/events/${e}`)}function k(e,r,t){return o("/performance/summary",{appId:e,startTime:r,endTime:t})}function E(e,r,t,a="lcp",s=5){return o("/performance/slow-pages",{appId:e,startTime:r,endTime:t,metric:a,limit:s})}function y(e,r,t,a=20){return o("/performance/resource-errors",{appId:e,startTime:r,endTime:t,limit:a})}function S(e){return o("/sourcemaps",{appId:e})}function v(e,r,t){const a=new FormData;return a.append("file",r),a.append("appId",e),a.append("version",t),c("/sourcemaps/upload",a,{headers:{"Content-Type":"multipart/form-data"}})}function T(e){return c(`/sourcemaps/${e}`,{},{method:"DELETE"})}export{g as a,d as b,b as c,k as d,E as e,y as f,l as g,T as h,S as i,v as u};
